<ion-header>

    <ion-toolbar color="dark">
        <ion-buttons slot="start">
            <ion-menu-button autoHide></ion-menu-button>
        </ion-buttons>
        <ion-title>Push Notifications</ion-title>
    </ion-toolbar>

</ion-header>

<ion-content padding>
    <ion-card>
        <ion-card-header>
            <ion-card-title>Push Notifications</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <p>Click the button to allow push notifications!
            </p>

            <p>
                Token:
                <ion-text color="secondary">{{ fcm.token }}</ion-text>
            </p>

            <ion-button (click)="getPermission()">Grant Permission</ion-button>
        </ion-card-content>
    </ion-card>

    <ion-card>
        <ion-card-header>
            <ion-card-title>Subscribe to a Topic</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <p>Second, subscribe the user to
                <strong>New Features</strong> notifications </p>

            <ion-button (click)="fcm.sub('split')">Subscribe to Topic</ion-button>
        </ion-card-content>


    </ion-card>

    <ion-card>
        <ion-card-header>
            <ion-card-title>Broadcast a Notification</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <p>Third, we create a new random message to push to the device.</p>
            <ion-button (click)="randomDiscount()">Trigger Message</ion-button>
        </ion-card-content>
    </ion-card>


    <ion-card>
        <ion-card-header>
            <ion-card-title>Unsubscribe from a topic</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <p>Lastly, give your user a way to unsubscribe from this topic.</p>
            <ion-button (click)="fcm.unsub('split app')">Unsubscribe from Topic</ion-button>
        </ion-card-content>
    </ion-card>

</ion-content>